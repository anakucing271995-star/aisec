<!DOCTYPE html>
<html>
<head>
    <title>SOC Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #333; }
        table { border-collapse: collapse; width: 100%; margin-bottom: 30px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>

<h1>Active Prompts</h1>
<table>
    <tr>
        <th>ID</th>
        <th>Name</th>
        <th>System Prompt</th>
        <th>User Prompt Template</th>
        <th>Active</th>
        <th>PII Masking</th>
    </tr>
    {% for p in prompts %}
    <tr>
        <td>{{ p.id }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.system_prompt }}</td>
        <td>{{ p.user_prompt_template }}</td>
        <td>{{ p.is_active }}</td>
        <td>{{ p.pii_masking }}</td>
    </tr>
    {% endfor %}
</table>

<h1>Latest Alerts</h1>
{% if alerts %}
<table>
    <tr>
        <th>SIEM</th>
        <th>Severity</th>
        <th>Event</th>
        <th>Source IP</th>
        <th>Destination</th>
    </tr>
    {% for alert in alerts %}
    <tr>
        <td>{{ alert.siem }}</td>
        <td>{{ alert.severity }}</td>
        <td>{{ alert.event }}</td>
        <td>{{ alert.source_ip }}</td>
        <td>{{ alert.destination }}</td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>No alerts found.</p>
{% endif %}

</body>
</html>
